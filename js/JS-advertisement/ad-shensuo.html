<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />    
<title>顶部广告展开收起</title>
<style>
body, div, img, span { margin:0; padding:0; }
#content{ width:960px; height:1000px; background:#ccc; margin:0 auto; }
#ad{ width:960px; margin:0 auto; position: relative; overflow: hidden; display:none;}
#close{
    position:absolute;
    width:20px;
	height:20px;
	text-align:center;
	line-height:20px;
	background:#CF3;
	top:0;
	right:0;
	display: none;
	cursor: pointer;
}
</style>
</head>
<body>
<div id="ad">
	<img id="adcon" src="http://img.mukewang.com/52fdb1ce0001e92d09620386.jpg" width="960" height="385"/>
	<img id="adcur" src="http://img.mukewang.com/52fdb21a0001a0eb11990068.jpg" width="960" height="80"/>
	<span id="close">X</span>
</div>
<div id="content"><img src="http://img.mukewang.com/52fdb1930001795a09601700.jpg" /></div>
<script>
//全局变量
var ad=document.getElementById('ad');
var adcon=document.getElementById('adcon');
var adcur=document.getElementById('adcur');
var clo=document.getElementById('close');

var maxh=adcon.height;
var minh=adcur.height;
var step=5;
var h=0;
function adDown(){
	ad.style.height=h+'px';
	ad.style.display='block';
	if(h<maxh){
		h+=step;
		setTimeout(adDown,1);
		}else{	
		setTimeout(adUp,3000);	
		}
	}
function adUp(){
	    ad.style.display='block';
		if(h>minh){
		h-=step;
		ad.style.height=h+'px';
		setTimeout(adUp,1);
		}else{
		adcon.style.display='none';
		clo.style.display='block';
			}
	}
clo.onclick=function(){
	ad.style.display='none';
	clo.style.display='none';
	}
setTimeout(adDown,3000);
</script>
</body>
</html>